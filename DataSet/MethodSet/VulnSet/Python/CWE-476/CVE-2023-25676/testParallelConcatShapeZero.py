if not tf2.enabled():
    self.skipTest('only fails in TF2')

@def_function.function
def f():
    y = gen_array_ops.parallel_concat(values=[['tf']], shape=0)
    return y
with self.assertRaisesRegex(errors.InvalidArgumentError, '0th dimension of value .* is less than'):
    f()