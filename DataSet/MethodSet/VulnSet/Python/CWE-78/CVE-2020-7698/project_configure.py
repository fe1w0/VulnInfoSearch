'\n    get configuration\n    :param request: request object\n    :param project_name: project name\n    :return: json\n    '
if request.method == 'GET':
    project = Project.objects.get(name=project_name)
    project = model_to_dict(project)
    project['configuration'] = json.loads(project['configuration']) if project['configuration'] else None
    return JsonResponse(project)
elif request.method == 'POST':
    project = Project.objects.filter(name=project_name)
    data = json.loads(request.body)
    configuration = json.dumps(data.get('configuration'), ensure_ascii=False)
    project.update(**{'configuration': configuration})
    cmd = ' '.join(['gerapy', 'generate', project_name])
    p = Popen(cmd, shell=True, stdin=PIPE, stdout=PIPE, stderr=PIPE)
    (stdout, stderr) = (bytes2str(p.stdout.read()), bytes2str(p.stderr.read()))
    if not stderr:
        return JsonResponse({'status': '1'})
    else:
        return JsonResponse({'status': '0', 'message': stderr})