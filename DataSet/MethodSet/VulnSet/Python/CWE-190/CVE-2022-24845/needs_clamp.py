if encoding not in (Encoding.ABI, Encoding.JSON_ABI):
    return False
if isinstance(t, (ByteArrayLike, DArrayType)):
    if encoding == Encoding.JSON_ABI:
        return False
    return True
if isinstance(t, BaseType) and t.typ not in ('int256', 'uint256', 'bytes32'):
    return True
if isinstance(t, SArrayType):
    return needs_clamp(t.subtype, encoding)
if isinstance(t, TupleLike):
    return any((needs_clamp(m, encoding) for m in t.tuple_members()))
return False