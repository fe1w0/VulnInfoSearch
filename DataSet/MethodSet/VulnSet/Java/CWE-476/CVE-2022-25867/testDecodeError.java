public class Helpers {
    private static Parser.Encoder encoder = new IOParser.Encoder();
    private static Packet<String> errorPacket = new Packet<String>(Parser.ERROR, "parser error");
    public static void testDecodeError(final String errorMessage) {
        Parser.Decoder decoder = new IOParser.Decoder();
        decoder.onDecoded(new IOParser.Decoder.Callback() {
            @Override
            public void call(Packet packet) {
                assertPacket(errorPacket, packet);
            }
        });
        decoder.add(errorMessage);
    }
}