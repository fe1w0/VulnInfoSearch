{
    typedef typename Functor::out_type Tout;
    typedef typename Functor::in_type Tin;
    typedef typenam