 typename Functor::out_type Tout;
    typedef typename Fun