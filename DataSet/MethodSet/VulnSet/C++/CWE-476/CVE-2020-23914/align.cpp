assert(!ranges_.empty());
  }

  size_t parse_core(const char *s, size_t n, SemanticValu