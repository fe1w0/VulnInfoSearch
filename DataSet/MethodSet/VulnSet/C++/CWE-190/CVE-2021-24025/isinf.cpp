(since read() takes
     * place at the end of the loop..) */
  }

  return n;
}

static req::ptr<Socket> create