      for (const auto size : data) {
          if (size == -1) {
            if (has_neg_one) {
              r