alanchiao): refactor scalar multiply into separate function
     