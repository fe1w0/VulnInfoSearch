th_end = std::min(width_;