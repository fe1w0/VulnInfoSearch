width_end = std::min(width_end, width_max);
    