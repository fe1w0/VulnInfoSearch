 itself may be built based on some other part of the message (as is the case with the
    // RPC protocol).
    this->capTable = kj::mv(capTable);
  }
#endif  // !CAPNP_LITE

  // implements Arena ------------------------------------------------
  SegmentReader* tryGetSegment(SegmentId id) override;
  void reportReadLimitReached() override;
#if !CAPNP_LITE
  kj::Maybe<kj::Own<ClientHook>> extractCap(uint index);
#endif  // !CAPNP_LITE

private:
  MessageReader* message;
  ReadLimiter readLimiter;
#if !CAPNP_LITE
  kj::Array<kj::Maybe<kj::Own<