in_buf += res;
			}
		}

		if (fifo_out) {
			if (in_buf 