nx;
    yrat = h / ny;
    if (xrat < wc + 2) {
        nx = w / (wc