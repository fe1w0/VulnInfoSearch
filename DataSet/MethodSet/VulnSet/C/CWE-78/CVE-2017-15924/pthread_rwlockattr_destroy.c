n;
    }

    if (r > BUF_SIZE / 2) {
        LOGE("too large request: %d", (int)r);
        