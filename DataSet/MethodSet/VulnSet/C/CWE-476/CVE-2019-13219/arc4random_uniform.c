an entire file and output the data interleaved into a malloc()ed
// buffer stored in *output. The return