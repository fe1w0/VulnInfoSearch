eturned are stored in *channels (which can be
// NULL--it is always th