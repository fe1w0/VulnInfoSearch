s must not be -1.
  Return: 0 on success, or OP_EINVAL if the r