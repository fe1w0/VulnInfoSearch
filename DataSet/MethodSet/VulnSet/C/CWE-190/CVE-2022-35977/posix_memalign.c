nction implements the SET operation with different
 * options and variants. This function is called in order to implement t