Overview of implementation
 *
 * When we lex to end of input string before end of token is hit, we
 * copy all of the input text