 achieve cross platform results.
 * Cleaned up from:
 *
 * http://