    void *sh, *newsh;
    char type, oldtype = s[-1] & SDS_TYPE_MASK;
