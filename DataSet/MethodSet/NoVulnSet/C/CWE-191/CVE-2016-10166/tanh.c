ned long new_height = MAX(1, height);
	const float dx = (float)im->sx / (float)new_width;
	const float dy = (