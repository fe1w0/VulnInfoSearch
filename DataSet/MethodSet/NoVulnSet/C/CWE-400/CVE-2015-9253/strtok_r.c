	if (nl) {
						int out_buf = 1 + nl - buf;
						memmove(buf