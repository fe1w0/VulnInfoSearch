esn't check for eof.
#define advance(subj) (subj)->