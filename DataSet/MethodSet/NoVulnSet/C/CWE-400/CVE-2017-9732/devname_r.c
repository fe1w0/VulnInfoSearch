len_buf_pos < 4) {
		ret = timed_read(fd, &len_buf