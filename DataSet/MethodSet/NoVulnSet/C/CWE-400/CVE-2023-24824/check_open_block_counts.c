bool check_open_block_counts(cmark_parser *parser) {
  cmark_parser tmp_parser = {0}; // Only used for its open_block_counts and total_open_blocks fields.
  add_open_block_counts(&tmp_parser, parser->root);
  return
    tmp_parser.total_open_blocks == parser->total_open_blocks &&
    memcmp(tmp_parser.open_block_counts, parser->open_block_counts, sizeof(parser->open_block_counts)) == 0;
}