void gnrc_sixlowpan_iphc_send(gnrc_pktsnip_t *pkt, void *ctx, unsigned page)
{
    gnrc_netif_hdr_t *netif_hdr = pkt->data;
    gnrc_netif_t *netif = gnrc_netif_hdr_get_netif(netif_hdr);
    gnrc_pktsnip_t *tmp;
    /* datagram size before compression */
    size_t orig_datagram_size = gnrc_pkt_len(pkt->next);
    ipv6_hdr_t *ipv6_hdr = pkt->next->data;
    ipv6_addr_t dst;

    if (IS_USED(MODULE_GNRC_SIXLOWPAN_FRAG_MINFWD)) {
        dst = ipv6_hdr->dst;    /* copying original destination address */
    }

    if ((tmp = _iphc_encode(pkt, pkt->data, netif))) {
        if (IS_USED(MODULE_GNRC_SIXLOWPAN_FRAG_MINFWD) && (ctx != NULL) &&
            (gnrc_sixlowpan_frag_minfwd_frag_iphc(tmp, orig_datagram_size, &dst,
                                                  ctx) == 0)) {
            DEBUG("6lo iphc minfwd: putting slack in first fragment\n");
            return;
        }
        gnrc_sixlowpan_multiplex_by_size(tmp, orig_datagram_size, netif, page);
    }
    else {
        if (IS_USED(MODULE_GNRC_SIXLOWPAN_FRAG_MINFWD)) {
            gnrc_sixlowpan_frag_fb_t *fb = ctx;

            if (fb->pkt == pkt) {
                /* free provided fragmentation buffer */
                fb->pkt = NULL;
            }
        }
        gnrc_pktbuf_release(pkt);
    }
}