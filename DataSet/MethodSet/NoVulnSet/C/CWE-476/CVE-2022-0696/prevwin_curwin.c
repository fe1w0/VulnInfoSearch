win_T *
prevwin_curwin(void)
{
    return
#ifdef FEAT_CMDWIN
	// In cmdwin, the alternative buffer should be used.
	is_in_cmdwin() && prevwin != NULL ? prevwin :
#endif
	curwin;
}