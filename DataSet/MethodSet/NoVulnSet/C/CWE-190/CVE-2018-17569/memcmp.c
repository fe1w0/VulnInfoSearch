 nw_buf_write(list->tail, pos, left);
        left -= ret;
