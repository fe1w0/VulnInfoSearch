TEST_F(ZlibDecompressorStatsTest, ChargeErrorStats) {
  decompressor_.init(31);

  chargeErrorStats(Z_ERRNO);
  ASSERT_EQ(stats_store_.counterFromString("test.zlib_errno").value(), 1);
  chargeErrorStats(Z_STREAM_ERROR);
  ASSERT_EQ(stats_store_.counterFromString("test.zlib_stream_error").value(), 1);
  chargeErrorStats(Z_DATA_ERROR);
  ASSERT_EQ(stats_store_.counterFromString("test.zlib_data_error").value(), 1);
  chargeErrorStats(Z_MEM_ERROR);
  ASSERT_EQ(stats_store_.counterFromString("test.zlib_mem_error").value(), 1);
  chargeErrorStats(Z_BUF_ERROR);
  ASSERT_EQ(stats_store_.counterFromString("test.zlib_buf_error").value(), 1);
  chargeErrorStats(Z_VERSION_ERROR);
  ASSERT_EQ(stats_store_.counterFromString("test.zlib_version_error").value(), 1);
}