ment(SegmentId id) override;
  void reportReadLimitReached() override;
#if !CAPNP_LITE
  kj::Maybe<kj::Own<ClientHook>> extractCap(uint index);
#endif  // !CAPNP_LITE

private:
  MessageReader* message;
  ReadLimiter readLimiter;
#if !CAPNP_LITE
  kj::Array<kj::Maybe<kj::Own<ClientHook>>> capTable;
#en