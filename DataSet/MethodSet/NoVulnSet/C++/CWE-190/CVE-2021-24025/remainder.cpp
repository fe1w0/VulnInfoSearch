FN(fopen)(dest, "w", false, context);
    if (same(dfile, false)) {
      return false;
    }

    if (!HHVM_FN(stream_copy_to_stream)(sfile.toResource