empty() || !HHVM_FN(is_dir)(tmpdir) ||
      !HHVM_FN(is_writable)(tmpdir)) {
    tmpdir = 