/ TODO(levp): remove the default case so that new types produce compilation
  // error.
  switch (ty