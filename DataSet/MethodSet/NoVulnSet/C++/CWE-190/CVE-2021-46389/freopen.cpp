may change these
    vector <float> min = (*session->image)->min;
    vector <float> max = (*session->image)->max;

    // 