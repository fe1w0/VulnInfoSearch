atic_cast<uint8_t*>(ptr) - offsetof(HeapStorage, buf);