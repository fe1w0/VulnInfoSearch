ilroom) {
  advance(headroom);
  if (size > 0) {
    assert(buf != nullptr);
    memc