to reallocate the buffer later.
  if (capacity <=