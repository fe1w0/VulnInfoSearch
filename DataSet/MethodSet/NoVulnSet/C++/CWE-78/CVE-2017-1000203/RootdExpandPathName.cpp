char *RootdExpandPathName(const char *name)
{
   const char *patbuf = name;

   // skip leading blanks
   while (*patbuf == ' ') patbuf++;

   // any shell meta characters?
   bool needesc = false;
   for (const char *p = patbuf; *p; p++)
      if (strchr(shellMeta, *p)) {
         needesc = true;
         break;
      }

   // Escape meta characters, if required
   if (needesc) {
      const int kBufSize = kMAXPATHLEN;
      char xname[kBufSize];
      if (RootdExpandFileName(name, xname, kBufSize)) {
         Error(ErrFatal, kErrFatal, "RootdExpandPathName: problem escaping meta characters");
         return 0;
      } else {
         return strdup(xname);
      }
   }
   return strdup(name);
}