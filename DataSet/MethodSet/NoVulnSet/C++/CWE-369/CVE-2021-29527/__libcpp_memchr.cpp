ng to produce an output image that's the same size as the
    // input. It's complicated by stride, which shrinks the output image 