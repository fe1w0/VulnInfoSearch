from waitress.parser import ParsingError
data = b'GET /foobar HTTP/1.1\r\nfoo: bar\r\nfoo: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\x10\r\n'
try:
    self.parser.parse_header(data)
except ParsingError as e:
    self.assertIn('Invalid header', e.args[0])
else:
    self.assertTrue(False)