public class Shell
{
    public static final char[] DEFAULT_QUOTING_TRIGGER_CHARS = { ' ' };
    public String shellCommand;
    public List<String> shellArgs = new ArrayList<String>();
    public boolean quotedArgumentsEnabled = true;
    public boolean unconditionallyQuote = false;
    public String executable;
    public String workingDir;
    public boolean quotedExecutableEnabled = true;
    public boolean doubleQuotedArgumentEscaped = false;
    public boolean singleQuotedArgumentEscaped = false;
    public boolean doubleQuotedExecutableEscaped = false;
    public boolean singleQuotedExecutableEscaped = false;
    public char argQuoteDelimiter = '\"';
    public char exeQuoteDelimiter = '\"';
    public String argumentEscapePattern = "\\%s";
    public String quoteOneItem(String inputString, boolean isExecutable)
    {
        char[] escapeChars = getEscapeChars( isSingleQuotedExecutableEscaped(), isDoubleQuotedExecutableEscaped() );
        return StringUtils.quoteAndEscape(
            inputString,
            isExecutable ? getExecutableQuoteDelimiter() : getArgumentQuoteDelimiter(),
            escapeChars,
            getQuotingTriggerChars(),
            '\\',
            unconditionallyQuote
        );
    }
}