class RoutingInBoundHandler extends SimpleChannelInboundHandler<io.micronaut.http.HttpRequest<?>> {
    private static final Logger LOG = LoggerFactory.getLogger(RoutingInBoundHandler.class);
    private static final Pattern IGNORABLE_ERROR_MESSAGE = Pattern.compile(
    private static final Argument ARGUMENT_PART_DATA = Argument.of(PartData.class);
    private final Router router;
    private final ExecutorSelector executorSelector;
    private final StaticResourceResolver staticResourceResolver;
    private final ExecutorService ioExecutor;
    private final BeanLocator beanLocator;
    private final NettyHttpServerConfiguration serverConfiguration;
    private final RequestArgumentSatisfier requestArgumentSatisfier;
    private final MediaTypeCodecRegistry mediaTypeCodecRegistry;
    private final NettyCustomizableResponseTypeHandlerRegistry customizableResponseTypeHandlerRegistry;
    public void channelInactive(ChannelHandlerContext ctx) throws Exception {
        super.channelInactive(ctx);
        if (ctx.channel().isWritable()) {
            ctx.flush();
        }
        NettyHttpRequest request = NettyHttpRequest.remove(ctx);
        if (request != null) {
            try {
                request.release();
            } finally {
                if (beanLocator instanceof ApplicationEventPublisher) {
                    ctx.executor().execute(() -> {
                        try {
                            ((ApplicationEventPublisher) beanLocator).publishEvent(
                                    new HttpRequestTerminatedEvent(
                                            request
                                    )
                            );
                        } catch (Exception e) {
                            if (LOG.isErrorEnabled()) {
                                LOG.error("Error publishing request terminated event: " + e.getMessage(), e);
                            }
                        }
                    });
                }
            }
        }
    }
}